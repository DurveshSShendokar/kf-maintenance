<style>
.table-bordered tr th, .table-bordered tr td, .table-bordered tr{border: 1px solid #ccc !important;}
.orange { background-color: #008B8B; }
.orange th { color: #fff; }
.navbar {
    background-color: #008B8B;
    padding: 10px 0;
    color: #fff;
    text-align: center;
    text-decoration: none;
}
.btn_search {
    background-color: #008B8B;
    border: 1px solid #008B8B;
    color: white;
}
.form-control {
    width: 100%;
}
.table-bordered {
    width: 70%;
    margin: 0 auto; 
}
.center-button {
    display: flex;
    justify-content: center;
    margin-top: 20px;
}
</style>

<div class="container">
    <div class="row page-title-div">
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <h2 class="title" style="text-align: center;">Status Wise General Breakdown Report</h2>
        </div>
        
  
        
        
          <div class="col-md-4">
            <label for="status">Select Status:</label>
            <select class="form-control" ng-model="vm.selectedStatus" ng-change="vm.generateBreakdownReport()">
                <option value="">--Select Status--</option>
                <option value="1">Open</option>
                <option value="0">Closed</option>
            </select>
        </div>
        
          <div class="col-md-6 center-button">
    <button type="button" class="btn_search" ng-click="vm.export()" ng-disabled="!vm.selectedStatus">Export</button>
</div>
        
    </div>
    <br>
</div>



<div class="container">
    <div class="panel-body table-responsive">
        <table datatable="ng" id="example" class="table table-bordered ">
           <thead class="orange">
            <tr>
                <th>Sr No</th>
            
                <th>Location Name</th>
                <th>Lab Name</th>
                <th>conclusion</th>
                <th>Root Cause</th>
                <th>Description</th>
                
                <th> Breakdown Slip No.</th>
                <th>Open Date</th>
                <th>Closed Date</th>
              
              
            </tr>
        </thead>
        <tbody>
            <tr ng-if="vm.StatRepo.length === 0">
                <td colspan="12" class="text-center">No data available.</td>
            </tr>
            <tr ng-repeat="repo in vm.StatRepo">
                <td>{{$index + 1}}</td>
             
                <td>{{repo.location.locationName}}</td>
                <td>{{repo.lab.labName}}</td>
                <td>{{repo.conclusion}}</td>
                 <td>{{repo.rootCause}}</td>
                  <td>{{repo.description}}</td>
                   <td>{{repo.breakdownNo}}</td>
                  <td> {{repo.openDate|date:'dd-MM-yyyy'}} </td>
                    <td>
								    <span ng-if="!repo.closedDate">Still Open</span>
								    <span ng-if="repo.closedDate">{{repo.closedDate | date:'dd-MM-yyyy'}}</span>
								</td>
                
            </tr>
        </tbody>
    </table>
</div>
</div>